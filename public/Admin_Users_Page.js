(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"24XT":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UsersQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}],loc:{start:0,end:88}};i.loc.source={body:'#import "../fragments/UserFragment.gql"\n\nquery UsersQuery {\n  users {\n    ...User\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("PKC0").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0)}));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=i,e.exports.UsersQuery=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach(function(e){s.add(e)});0<s.size;){var d=s;s=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return r.forEach(function(n){var i=o(e,n);i&&t.definitions.push(i)}),t}(i,"UsersQuery")},"4oPz":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}],loc:{start:0,end:115}};i.loc.source={body:'#import "../fragments/UserFragment.gql"\n\nmutation DeleteUser($id: ID!) {\n  deleteUser(id: $id) {\n    ...User\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(t("PKC0").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!r[n]&&(r[n]=!0)}));var a={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,t)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,t)}),n.definitions&&n.definitions.forEach(function(n){e(n,t)})}(e,n),a[e.name.value]=n}}),e.exports=i,e.exports.DeleteUser=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=a[n]||new Set,r=new Set,s=new Set;for(i.forEach(function(e){s.add(e)});0<s.size;){var d=s;s=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach(function(e){s.add(e)}))})}return r.forEach(function(n){var i=o(e,n);i&&t.definitions.push(i)}),t}(i,"DeleteUser")},BFTz:function(e,n,t){"use strict";t.r(n);var i,r,a=t("YKMj"),o=t("4oPz"),s=t.n(o),d=t("y4MM"),l=t("Ui4H"),c=t("P7dP"),u=(i=function(e,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}i(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),f=function(){return(f=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},m=function(e,n,t,i){var r,a=arguments.length,o=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,i);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(o=(a<3?r(o):3<a?r(n,t,o):r(n,t))||o);return 3<a&&o&&Object.defineProperty(n,t,o),o};function v(){var e=null!==r&&r.apply(this,arguments)||this;return e.isUserModalShown=!1,e.isUserFormAdd=!0,e.userForm={id:0,name:"",email:"",role_id:2,password:"",password_confirmation:""},e.usersDataTableHeader={id:{title:"id"},name:{title:"Name"},email:{title:"Email"},role:{title:"Role"},role_id:{visible:!1},blog_posts:{visible:!1},comments:{visible:!1},created_at:{title:"Created"},updated_at:{title:"Updated"},actions:{sortable:!1,title:"Actions",slot:"actions"}},e}var p=(u(v,r=a.e),v.prototype.closeUserModal=function(){this.isUserModalShown=!1,this.userForm={id:0,name:"",email:"",role_id:2,password:"",password_confirmation:""}},v.prototype.handleUserAdd=function(){this.isUserFormAdd=!0,this.isUserModalShown=!0},v.prototype.handleUserEdit=function(e){this.isUserFormAdd=!1,this.isUserModalShown=!0,this.userForm=f({},e)},v.prototype.handleUserDelete=function(e){return function(e,n,t,i){return new(t=t||Promise)(function(r,a){function o(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(o,s)}d((i=i.apply(e,n||[])).next())})}(this,void 0,void 0,function(){return function(e,n){var t,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=0<(r=o.trys).length&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],i=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,function(n){switch(n.label){case 0:return[4,Object(d.a)(this.$t("resource.delete_confirmation",{resource:"User"}),!0)];case 1:return n.sent()?[4,this.$apollo.mutate({mutation:s.a,variables:{id:e.id},update:function(e,n){var t=n.data.deleteUser;Object(c.b)(e,t)},optimisticResponse:{__typename:"Mutation",id:e.id,deleteUser:{__typename:"User",id:e.id,name:e.name,email:e.email,role_id:e.role_id,role:e.role,blog_posts:e.blog_posts,comments:e.comments,created_at:e.created_at,updated_at:e.updated_at}}})]:[2];case 2:return n.sent(),Object(d.a)(this.$t("resource.deleted",{resource:"User"}),!1),[2]}})})},Object.defineProperty(v.prototype,"searchInputPlaceHolder",{get:function(){return this.$t("resource.search",{resource:"Users"})},enumerable:!0,configurable:!0}),m([Object(a.d)()],v.prototype,"usersDataTableHeader",void 0),v=m([Object(a.a)({components:{UserForm:function(){return t.e(23).then(t.bind(null,"gZnO"))}},metaInfo:f({},Object(l.b)("Manage Users","Lavuql user management page","admin/users",""),{meta:[{name:"robots",content:"NOINDEX, NOFOLLOW"}]})})],v)),h=t("KHd+"),k=Object(h.a)(p,function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("lvql-layout",{attrs:{name:"Admin"}},[i("apollo-query",{attrs:{query:t("24XT")},scopedSlots:e._u([{key:"default",fn:function(n){var t=n.result,r=t.data,a=t.loading,o=t.error;return n.query,[a?i("div",{staticClass:"loading apollo"},[i("grid",[i("grid-row",[i("grid-item",{attrs:{fill:""}},[i("lvql-loader",{attrs:{size:"large"}})],1)],1)],1)],1):o?i("div",{staticClass:"error apollo"},[i("grid",[i("grid-row",[i("grid-item",{attrs:{fill:""}},[i("pre",[e._v(e._s(o))])])],1)],1)],1):r?i("div",{staticClass:"result apollo"},[i("lvql-modal",{attrs:{"is-shown":e.isUserModalShown},on:{close:e.closeUserModal}},[i("user-form",{attrs:{"is-add":e.isUserFormAdd,user:e.userForm}})],1),i("grid",[i("grid-row",[i("grid-item",[i("lvql-button",{attrs:{variant:"primary"},on:{click:e.handleUserAdd}},[e._v(e._s(e.$t("resource.add",{resource:"User"})))])],1)],1),i("grid-row",[i("grid-item",{attrs:{fill:""}},[i("data-table",{attrs:{header:e.usersDataTableHeader,data:r.users,placeholder:e.searchInputPlaceHolder},scopedSlots:e._u([{key:"actions",fn:function(n){var t=n.row;return[i("lvql-button",{attrs:{variant:"accent",isGhost:!0},on:{click:function(n){return e.handleUserEdit(t)}}},[i("i",{staticClass:"fas fa-pencil-alt"})]),1!==t.role_id?i("lvql-button",{attrs:{variant:"danger",isGhost:!0},on:{click:function(n){return e.handleUserDelete(t)}}},[i("i",{staticClass:"fas fa-trash"})]):e._e()]}}],null,!0)})],1)],1)],1)],1):e._e()]}}])})],1)},[],!1,null,null,null);n.default=k.exports},P7dP:function(e,n,t){"use strict";t.d(n,"a",function(){return s}),t.d(n,"b",function(){return d});var i=t("24XT"),r=t.n(i),a=t("sLP4"),o=function(){return(o=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};function s(e,n){var t={query:r.a},i=e.readQuery(t);Object(a.a)(i.users,n),e.writeQuery(o({},t,{data:i}))}function d(e,n){var t={query:r.a},i=e.readQuery(t);Object(a.b)(i.users,n),e.writeQuery(o({},t,{data:i}))}},PKC0:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blog_posts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updated_at"},arguments:[],directives:[]}]}}],loc:{start:0,end:152}};t.loc.source={body:"fragment User on User {\n  __typename\n  id\n  role_id\n  name\n  email\n  role\n  blog_posts {\n    id\n  }\n  comments {\n    id\n  }\n  created_at\n  updated_at\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=t},sLP4:function(e,n,t){"use strict";function i(e,n){var t=e.findIndex(function(e){return e.id===n.id});-1===t?e.unshift(n):e.splice(t,1,n)}function r(e,n){var t=e.findIndex(function(e){return e.id===n.id});-1!==t&&e.splice(t,1)}t.d(n,"a",function(){return i}),t.d(n,"b",function(){return r})},y4MM:function(e,n,t){"use strict";var i=t("mTVC"),r=t("QcY0"),a=Object(i.create)(r.default,"message","isConfirm");n.a=a}}]);