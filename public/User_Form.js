(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{N7yN:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}],loc:{start:0,end:134}};t.loc.source={body:'#import "../fragments/UserFragment.gql"\n\nmutation CreateUser($data: CreateUserInput!) {\n  createUser(data: $data) {\n    ...User\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};t.definitions=t.definitions.concat(i("PKC0").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0)}));var r={};function o(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,i){if("FragmentSpread"===n.kind)i.add(n.name.value);else if("VariableDefinition"===n.kind){var t=n.type;"NamedType"===t.kind&&i.add(t.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,i)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,i)}),n.definitions&&n.definitions.forEach(function(n){e(n,i)})}(e,n),r[e.name.value]=n}}),e.exports=t,e.exports.CreateUser=function(e,n){var i={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=r[n]||new Set,a=new Set,s=new Set;for(t.forEach(function(e){s.add(e)});0<s.size;){var d=s;s=new Set,d.forEach(function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach(function(e){s.add(e)}))})}return a.forEach(function(n){var t=o(e,n);t&&i.definitions.push(t)}),i}(t,"CreateUser")},gZnO:function(e,n,i){"use strict";i.r(n);var t,a,r=i("YKMj"),o=i("80fN"),s=i("P7dP"),d=i("y4MM"),l=i("N7yN"),u=i.n(l),c=i("xlyB"),m=i.n(c),f=function(e,n,i,t){var a,r=arguments.length,o=r<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,i):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,i,t);else for(var s=e.length-1;0<=s;s--)(a=e[s])&&(o=(r<3?a(o):3<r?a(n,i,o):a(n,i))||o);return 3<r&&o&&Object.defineProperty(n,i,o),o};function p(){return null!==a&&a.apply(this,arguments)||this}var v=((t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])})(e,n)},function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)})(p,a=r.e),p.prototype.sendCreateUserInfo=function(){o.a.mutate({mutation:u.a,variables:{data:this.user},update:function(e,n){var i=n.data.createUser;Object(s.a)(e,i)},optimisticResponse:{__typename:"Mutation",createUser:{__typename:"User",id:this.user.id,name:this.user.name,email:this.user.email,role_id:this.user.role_id,role:"Patron",blog_posts:[],comments:[],created_at:Date.now(),updated_at:Date.now()}}}),Object(d.a)(this.$t("resource.created",{resource:"User"}),!1)},p.prototype.sendEditUserInfo=function(){o.a.mutate({mutation:m.a,variables:{id:this.user.id,data:this.user},update:function(e,n){var i=n.data.editUser;Object(s.a)(e,i)},optimisticResponse:{__typename:"Mutation",editUser:{__typename:"User",id:this.user.id,name:this.user.name,email:this.user.email,role_id:this.user.role_id,role:"",blog_posts:[],comments:[],created_at:Date.now(),updated_at:Date.now()}}}),Object(d.a)(this.$t("resource.updated",{resource:"User"}),!1)},p.prototype.sendData=function(){return this.isAdd?this.sendCreateUserInfo():this.sendEditUserInfo()},Object.defineProperty(p.prototype,"userFormTitle",{get:function(){return this.isAdd?this.$t("resource.add",{resource:"User"}):this.$t("resource.edit",{resource:"User"})},enumerable:!0,configurable:!0}),f([Object(r.c)({required:!0})],p.prototype,"user",void 0),f([Object(r.c)({default:!0})],p.prototype,"isAdd",void 0),p=f([r.a],p)),k=i("KHd+"),h=Object(k.a)(v,function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("lvql-form",{attrs:{title:e.userFormTitle,"button-text":e.userFormTitle},on:{submit:e.sendData},scopedSlots:e._u([{key:"fields",fn:function(){return[i("grid-row",[i("grid-item",[i("lvql-input",{attrs:{name:e.$t("users.name"),placeholder:e.$t("users.name_placeholder"),id:"name",type:"text",validation:"max: 191",required:""},model:{value:e.user.name,callback:function(n){e.$set(e.user,"name",n)},expression:"user.name"}})],1)],1),i("grid-row",[i("grid-item",[i("lvql-input",{attrs:{name:e.$t("users.email"),placeholder:e.$t("users.email_placeholder"),id:"email",type:"email",validation:"max: 191|email",required:""},model:{value:e.user.email,callback:function(n){e.$set(e.user,"email",n)},expression:"user.email"}})],1)],1),i("grid-row",[i("grid-item",[i("lvql-input",{attrs:{name:e.$t("users.password"),placeholder:e.$t("users.password_placeholder"),id:"password",type:"password",validation:"min: 8|confirmed",required:e.isAdd},model:{value:e.user.password,callback:function(n){e.$set(e.user,"password",n)},expression:"user.password"}})],1)],1),i("grid-row",[i("grid-item",[i("lvql-input",{attrs:{name:e.$t("users.password_confirmation"),placeholder:e.$t("users.password_confirmation_placeholder"),id:"password_confirmation",type:"password",validation:"min: 8",required:e.isAdd},model:{value:e.user.password_confirmation,callback:function(n){e.$set(e.user,"password_confirmation",n)},expression:"user.password_confirmation"}})],1)],1),i("grid-row",[i("grid-item",{attrs:{fill:""}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role_id,expression:"user.role_id"}],attrs:{type:"radio",id:"Admin",name:"role_id",value:"1"},domProps:{checked:e._q(e.user.role_id,"1")},on:{change:function(n){return e.$set(e.user,"role_id","1")}}}),i("label",{attrs:{for:"Admin"}},[e._v(e._s(e.$t("roles.admin")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user.role_id,expression:"user.role_id"}],attrs:{type:"radio",id:"Patron",name:"role_id",value:"2"},domProps:{checked:e._q(e.user.role_id,"2")},on:{change:function(n){return e.$set(e.user,"role_id","2")}}}),i("label",{attrs:{for:"Patron"}},[e._v(e._s(e.$t("roles.patron")))])])],1)]},proxy:!0}])})},[],!1,null,null,null);n.default=h.exports},xlyB:function(e,n,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EditUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}],loc:{start:0,end:147}};t.loc.source={body:'#import "../fragments/UserFragment.gql"\n\nmutation EditUser($id: ID!, $data: EditUserInput!) {\n  editUser(id: $id, data: $data) {\n    ...User\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};t.definitions=t.definitions.concat(i("PKC0").definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0)}));var r={};function o(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}t.definitions.forEach(function(e){if(e.name){var n=new Set;!function e(n,i){if("FragmentSpread"===n.kind)i.add(n.name.value);else if("VariableDefinition"===n.kind){var t=n.type;"NamedType"===t.kind&&i.add(t.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(n){e(n,i)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(n){e(n,i)}),n.definitions&&n.definitions.forEach(function(n){e(n,i)})}(e,n),r[e.name.value]=n}}),e.exports=t,e.exports.EditUser=function(e,n){var i={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var t=r[n]||new Set,a=new Set,s=new Set;for(t.forEach(function(e){s.add(e)});0<s.size;){var d=s;s=new Set,d.forEach(function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach(function(e){s.add(e)}))})}return a.forEach(function(n){var t=o(e,n);t&&i.definitions.push(t)}),i}(t,"EditUser")}}]);